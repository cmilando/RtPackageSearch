library(utils)
library(rvest)
library(httr)
get_packages <- function(term) {
url <- RSiteSearch(paste0("{",term,"}"),
matchesPerPage = 10000)
Sys.sleep(10)
# Fetch and parse the HTML
page <- GET(url, user_agent("Mozilla/5.0")) # avoid bot detection
html <- read_html(page)
# Extract all hyperlinks
links <- html %>%
html_elements("a") %>%
html_attr("href")
# Keep only non-empty and absolute URLs
links <- links[!is.na(links)]
links <- unique(links)
links
internal_links <- grep("^/CRAN/package", links, value = TRUE)
x1 <- lapply(internal_links, function(l)
strsplit(l, "/", fixed = T)[[1]][4])
y1 <- sort(unique(do.call(c, x1)))
internal_links <- grep("^/CRAN/refmans", links, value = TRUE)
x2 <- lapply(internal_links, function(l)
strsplit(l, "/", fixed = T)[[1]][4])
y2 <- sort(unique(do.call(c, x2)))
return(sort(unique(c(y1, y2))))
}
x3 <- get_packages("reproductive number")
install.packages("rtestim")
install.packages("earlyR")
install.packages("epitrix")
install.packages("earlyR")
